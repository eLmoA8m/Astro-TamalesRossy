---
import Image from "astro/components/Image.astro"
---

<nav class="z-100 fixed w-full top-0 left-0">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <img src="/images/Tamales.png" alt="Tamales Rossy" class="h-10 rounded-full bg-orange-500" />
    
    <!-- Botón hamburguesa para móvil -->
    <button id="menu-toggle" class="lg:hidden text-white focus:outline-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
    
    <!-- Menú para pantallas grandes -->
    <ul class="hidden lg:flex items-center space-x-6">
      <li><a href="#precios" class="text-white underline">Precios</a></li>
      <li><a href="#Menu" class="text-white underline">Menu</a></li>
      <button class="cursor-pointer px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-medium rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 text-sm">
        <a href="#Visitanos">Ordenar ahora</a>
      </button>
    </ul>
  </div>
  
  <!-- Menú móvil desplegable -->
  <div id="mobile-menu" class="hidden w-full lg:hidden">
    <ul class="flex flex-col items-center py-4 space-y-4 bg-black/80 backdrop-blur-md">
      <li><a href="#precios" class="text-white">Precios</a></li>
      <li><a href="#Menu" class="text-white">Menu</a></li>
      <button class="cursor-pointer px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-medium rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 text-sm">
        <a href="#Visitanos">Ordenar ahora</a>
      </button>
    </ul>
  </div>
</nav>

<style>
  nav {
    background: transparent;
    animation: nav-blur-scroll 0.3s linear both;
    animation-timeline: scroll();
    animation-range: 0 250px;
  }
  
  @keyframes nav-blur-scroll {
    0% {
      backdrop-filter: blur(0px);
      background: transparent;
    }
    100% {
      backdrop-filter: blur(10px);
      background: rgba(0, 0, 0, 0.65);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    if (menuToggle && mobileMenu) { 
      // Manejar la apertura y cierre del menú
      menuToggle.addEventListener('click', () => {
        const isOpen = mobileMenu.classList.toggle('hidden');
        
        // Actualizar accesibilidad (aria-expanded)
        menuToggle.setAttribute('aria-expanded', String(!isOpen));
      });

      // Cerrar el menú al hacer clic en un enlace
      mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.add('hidden');
          menuToggle.setAttribute('aria-expanded', false.toString());
        });
      });
    }
  });
</script>
